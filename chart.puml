@startuml
left to right direction
actor Клиент
actor Банкомат
actor Банковскаясистема
rectangle "Снятие наличных" {
  Клиент -- (Выбирает опцию “Авторизоваться при помощи Биометрии”)
  Клиент -- (Проходит биометрическую идентификацию)
  Клиент -- (Выбирает опцию “Снять наличные” и вводит или выбирает сумму для снятия)
  Банкомат -- (Активирует биометрический сканер)
  Банкомат -- (Сверяет биометрические данные с имеющимися в Банковской системе)
  Банкомат -- (Проверяет, достаточно ли средств на счете клиента)
  Банкомат -- (Выдает запрошенную сумму)
  Банкомат -- (Отправляет запрос на обновление баланса в банковскую систему)
  Банковскаясистема -- (Клиент авторизуется в банковской системе)
  Банковскаясистема -- (Обновляет баланс счета клиента)
}
@enduml

@startuml
participant Клиент
participant Банкомат
participant Банковскаясистемa
activate Клиент
Клиент->Банкомат: Выбирает опцию “Авторизоваться при помощи Биометрии”
activate Банкомат
Банкомат->Клиент: Активирует биометрический сканер
Клиент->Банкомат: Проходит биометрическую идентификацию
Банкомат->Банковскаясистемa: Сверяет биометрические данные
activate Банковскаясистемa
alt Если биометрические данные сходятся
  Банковскаясистемa->Банкомат: Клиент авторизуется в банковской системе
  deactivate Банковскаясистемa
  Клиент->Банкомат: Выбирает опцию “Снять наличные” и вводит или выбирает сумму для снятия
  Банкомат->Банковскаясистемa: Проверяет, достаточно ли средств на счете клиента
  activate Банковскаясистемa
  alt Если достаточно средств
    Банковскаясистемa->Банкомат: Достаточно средств
    deactivate Банковскаясистемa
    Банкомат->Клиент: Выдает запрошенную сумму
    Банкомат->Банковскаясистемa: Отправляет запрос на обновление баланса
    activate Банковскаясистемa
    Банковскаясистемa->Банкомат: Обновляет баланс счета клиента
    deactivate Банковскаясистемa
  else Если средств недостаточно
    Банковскаясистемa->Банкомат: Средств недостаточно
    deactivate Банковскаясистемa
    Банкомат->Клиент: Информирует клиента и предлагает ввести иную сумму
  end
else Если биометрические данные неверны
  Банковскаясистемa->Банкомат: Биометрические данные неверны
  deactivate Банковскаясистемa
  Банкомат->Клиент: Информирует клиента об ошибке и предлагает повторить процесс авторизации
end
deactivate Банкомат
deactivate Клиент
@enduml

@startuml
start
:Клиент выбирает опцию “Авторизоваться при помощи Биометрии”;
repeat
:Банкомат активирует биометрический сканер;
:Клиент проходит биометрическую идентификацию;
:Банкомат сверяет биометрические данные;
repeat while (Биометрические данные сходятся?) is (нет) not (да)
:Клиент авторизуется в банковской системе;
:Клиент выбирает опцию “Снять наличные”;
repeat
:Клиент вводит или выбирает сумму для снятия;
:Банкомат проверяет, достаточно ли средств на счете клиента;
repeat while (Достаточно средств?) is (нет) not (да)
:Банкомат выдает запрошенную сумму;
:Банкомат отправляет запрос на обновление баланса в банковскую систему;
:Банковская система обновляет баланс счета клиента;
stop
@enduml


